<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tabs/tab6" style="color: white" icon="chevron-back"></ion-back-button>
    </ion-buttons>
    <ion-title>BEST MOMENTS COMMENT</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content style="--background: #707072;">

  <form [formGroup]="BestMomentCommentForm" (ngSubmit)="toAddComment()">
    <div>

      <ion-item class="top-container-item" lines="none" *ngIf="userDetails">
        <ion-input placeholder="Write a comment ....." type="text" style="color:white;" formControlName="comment" [(ngModel)]="userComment.comment" autocapitalize="true"></ion-input>
        <img [src]="userDetails.profile_pic" alt="" slot="end" class="top-person-img">
      </ion-item>

    </div>

      <ion-item lines="none" style="--background: #707072;">
        <p class="top-left-text" *ngIf="commentDetails"> {{commentDetails.length}} Comments</p>
        <ion-button slot="end" class="top-right-red-button" (click)="toAddComment()" [disabled]="!BestMomentCommentForm.valid">
          <ion-icon name="add-outline" class="add-icon"></ion-icon>
          ADD YOUR COMMENT</ion-button>
      </ion-item>
    </form>

    <div style="padding: 5px" *ngFor="let comment of commentDetails">

      <p style="padding-left: 20px; background-color: #9e9e9e; height: 45px; padding-top: 10px;" *ngIf="commentDetails?.length==0" >Be the first person to leave a comment ....</p>

      <div style="display: flex;">
        <div style="height: 45px; width: 45px; margin-right: 10px; text-align: center; border-radius: 5px;">
          <img style="border-radius: 5px;" [src]="comment.commented_userprofile" alt="" onerror="this.onerror=null;this.src='../../assets/icon/profile/user.png';">
        </div>

        <div style="background-color: white; width: -webkit-fill-available; border-radius: 5px;">
          <div style="background-color: #a9a9a969; padding: 7px;">
            
            <span> <strong> {{comment.commented_username}} </strong> </span> <span style="font-size: 11px; margin-left: 10px;"> said on {{comment.commented_at | date}} @ {{comment.commented_at | date:'shortTime'}} </span>
          </div>

          <div style="padding: 15px;">
            <span> {{comment.comment}} </span>
          </div>

        </div>

      </div>
    </div>

</ion-content>
